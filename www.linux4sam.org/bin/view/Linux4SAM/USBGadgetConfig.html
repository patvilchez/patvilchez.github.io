<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">

<!-- Mirrored from www.linux4sam.org/bin/view/Linux4SAM/USBGadgetConfig by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Jul 2021 19:07:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=iso-8859-1" /><!-- /Added by HTTrack -->
<head>
<link rel="stylesheet" href="https://www.linux4sam.org/pub/TWiki/RedDotPlugin/style.css" type="text/css" media="all" />
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/JQueryPlugin/jquery.js"></script>
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/JQueryPlugin/jquery-migrate.js"></script>
<link rel="stylesheet" href="https://www.linux4sam.org/pub/TWiki/JQueryPlugin/jquery-all.css" type="text/css" media="all" />
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/JQueryPlugin/jquery-all.js"></script>
<title> USBGadgetConfig &lt; Linux4SAM &lt; TWiki</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="https://www.linux4sam.org/pub/Linux4SAM/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="https://www.linux4sam.org/pub/Linux4SAM/WebPreferences/favicon.ico" type="image/x-icon" />
<link rel="alternate" href="https://www.linux4sam.org/bin/edit/Linux4SAM/USBGadgetConfig?t=1625510960" type="application/x-wiki" title="Edit USBGadgetConfig" />
<link rel="edit" href="https://www.linux4sam.org/bin/edit/Linux4SAM/USBGadgetConfig?t=1625510960" title="Edit USBGadgetConfig" />
<meta name="SCRIPTURLPATH" content="/bin" />
<meta name="SCRIPTSUFFIX" content="" />
<meta name="TEXT_JUMP" content="Jump" />
<meta name="TEXT_SEARCH" content="Search" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="WebRss" />
<base ></base>
<!--BEHAVIOURCONTRIB--><script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/BehaviourContrib/behaviour.compressed.js"></script>
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/TWikiJavascripts/twikilib.js"></script>
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/TWikiJavascripts/twikiWindow.js"></script>
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/TWikiJavascripts/twikiEvent.js"></script>
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/TWikiJavascripts/twikiHTML.js"></script>
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/TWikiJavascripts/twikiCSS.js"></script>
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/TWikiJavascripts/twikiForm.js"></script>
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/PatternSkin/pattern.js"></script><style type="text/css" media="all">
@import url('https://www.linux4sam.org/pub/TWiki/TWikiTemplates/base.css');
</style>
<style type="text/css" media="all">

#patternTopBar,
#patternClearHeaderCenter,
#patternClearHeaderLeft,
#patternClearHeaderRight,
#patternTopBarContentsOuter,
#patternTopBarContents {
	height:100px; /* top bar height; make room for header columns */
	overflow:hidden;
}


#patternOuter {
	margin-left:14em;
}
#patternLeftBar {
	width:14em;
	margin-left:-14em;
}
</style>
<style type="text/css" media="all">
@import url('https://www.linux4sam.org/pub/TWiki/PatternSkin/layout.css');
@import url('https://www.linux4sam.org/pub/TWiki/PatternSkin/style.css');
@import url('https://www.linux4sam.org/pub/TWiki/PatternSkin/colors.css');
</style>
<style type="text/css" media="all">
	/* Styles that are set using variables */
	.patternBookView .twikiTopRow,
	.patternWebIndicator a img,
	.patternWebIndicator a:hover img {
		background-color:#D0D0D0;
	}
	#patternTopBarContents { background-image:url(https://www.linux4sam.org/pub/TWiki/PatternSkin/TWiki_header.gif); background-repeat:no-repeat;}
	
	.patternBookView {
		border-color:#D0D0D0;
	}
	.patternPreviewPage #patternMain {
		/* uncomment to set the preview image */
		/*background-image:url("/pub/TWiki/PreviewBackground/preview2bg.gif");*/
	}
	
</style><style type="text/css" media="all">


@import url('https://www.linux4sam.org/pub/TWiki/Linux4SAM/mystyle.css');
</style>
<style type="text/css" media="all">
	@import url("https://www.linux4sam.org/pub/TWiki/PatternSkin/print.css");
</style>
<!--[if IE]><style type="text/css" media="screen">
pre {
	overflow-x:auto;
	padding-bottom:expression(this.scrollWidth > this.offsetWidth ? 16 : 0);
}
</style>
<![endif]-->
<!--[if lte IE 6]> 
<style type="text/css">
#patternLeftBar {
	position:relative; /* IE 5.5 needs this or the contents won't show outside the parent container on print. IE 6.0 needs it only during printable copy! */
}
</style><![endif]-->
<script type="text/javascript" src="https://www.linux4sam.org/pub/TWiki/TWikiJavascripts/twikiStyles.js"></script>
<!--GENERATED_HEADERS--><!-- TABLEPLUGIN_table1 --> <style type="text/css" media="all">
.tableSortIcon img {padding-left:.3em; vertical-align:text-bottom;}
.twikiTable#table1 td.twikiTableCol0 {width:40%;}
.twikiTable#table1 th.twikiTableCol0 {width:40%;}
.twikiTable#table1 td.twikiTableCol1 {width:40%;}
.twikiTable#table1 th.twikiTableCol1 {width:40%;}
</style></head>
<body class="patternViewPage">
<a name="PageTop"></a>
<div id="patternScreen">
<div id="patternPageShadow">
<div id="patternPage">
<div id="patternWrapper"><div id="patternOuter">
<div id="patternFloatWrap">
<div id="patternMain">
<div id="patternClearHeaderCenter">
</div>
<p />
<div id="patternMainContents"><div class="patternTop"><span class="patternHomePath twikiLeft">
<a class="twikiCurrentWebHomeLink twikiLink" href="WebHome.html">Linux4SAM</a><span class='natSep'>&nbsp;&#187; </span><a class="twikiLink" href="WebFaqBaseForm.html">WebFaqBaseForm</a><span class='natSep'>&nbsp;&#187; </span><a class="twikiLink" href="WebFaq.html">WebFaq</a><span class='natSep'>&nbsp;&#187; </span><a class="twikiCurrentTopicLink twikiLink" href="USBGadgetConfig.html">USBGadgetConfig</a>
</span><!-- /patternHomePath--><span class="patternToolBar twikiRight"></span><!-- /patternToolBar--><br class="twikiClear" /></div><!--/patternTop--><div class="twikiContentHeader"></div><div class="patternContent"><div class="patternTopic"> <div class="twikiToc"> <ul>
<li> <a href="#USB_gadget_configuration">USB gadget configuration</a> <ul>
<li> <a href="#Introduction">Introduction </a>
</li> <li> <a href="#1_Problem_statement">1. Problem statement</a> <ul>
<li> <a href="#How_to_configure_fifo_mode_param">How to configure fifo_mode parameter</a>
</li></ul> 
</li> <li> <a href="#2_USB_Gadget_precomposed_configu">2. USB Gadget precomposed configurations from within Linux kernel</a> <ul>
<li> <a href="#Configurations_in_Kernel">Configurations in Kernel</a>
</li></ul> 
</li> <li> <a href="#3_USB_Gadget_configured_through">3. USB Gadget configured through ConfigFS from user space at runtime</a> <ul>
<li> <a href="#Configurations_in_Kernel_AN1">Configurations in Kernel</a>
</li></ul> 
</li> <li> <a href="#Applications">Applications</a> <ul>
<li> <a href="#Simple_USB_Gadget_script"> Simple USB Gadget script</a>
</li></ul> 
</li></ul> 
</li></ul> 
</div>
<p />
<h1><a name="USB_gadget_configuration"></a> USB gadget configuration </h1>
<p />
<h2><a name="Introduction"></a> Introduction </h2>
<p />
This page is mainly about how to configure USB Gadget on Linux kernel. There are two ways to configure the USB Gadget framework: from within Linux kernel or from user space using ConfigFS.
<p />
<h2><a name="1_Problem_statement"></a> 1. Problem statement </h2>
For both options, the USB stack decides the order in which the endpoints are enabled and most of the time the endpoints are not enabled in the order required by the SoC datasheet (DPRAM Management section - “ Endpoints can only be allocated in ascending order, from the endpoint 0 to the last endpoint to be allocated. The user shall therefore configure them in the same order.”)
To solve this problem two possible solutions are implemented in the driver and are selected by the value of  fifo_mode variable as follows:
<p />
<strong>fifo_mode = 0</strong> is used to let the driver autoconfigure the endpoints. In this case 2 banks are allocated so that they could be used as isochronous endpoints. Only one bank is allocated for the rest of the endpoints. If unsure use this option as <strong>default</strong>.
<p />
fifo_mode = value different than 0 means that a predefined user optimized configuration is to be used by loading it form a table. The data structure that defines the table is the following:
<pre>
struct usba&#95;fifo&#95;cfg {
   u8          hw&#95;ep&#95;num;
   u16         fifo&#95;size;
   u8          nr&#95;banks;
};
</pre>
<p />
hw_ep_num - is the endpoint number as assigned by datashet (it’s an ascending value starting from 0).
<p />
fifo size - is the maximum fifo size that will be used by an application.
<p />
nr_banks - is the maximum number of banks used by application. Possible values are 1, 2 and 3 for isochronous endpoints. Having more banks will increase performance of the application but will consume more USBA internal DPRAM memory.
<p />
For example for fifo_mode = 3 the following configuration is loaded:
<pre>
static struct usba&#95;fifo&#95;cfg mode&#95;3&#95;cfg&#91;] &#61; {
{ .hw&#95;ep&#95;num &#61; 0, .fifo&#95;size &#61; 64,     .nr&#95;banks &#61; 1, },
{ .hw&#95;ep&#95;num &#61; 1, .fifo&#95;size &#61; 1024,   .nr&#95;banks &#61; 2, },
{ .hw&#95;ep&#95;num &#61; 2, .fifo&#95;size &#61; 512,    .nr&#95;banks &#61; 2, },
{ .hw&#95;ep&#95;num &#61; 3, .fifo&#95;size &#61; 512,    .nr&#95;banks &#61; 2, },
{ .hw&#95;ep&#95;num &#61; 4, .fifo&#95;size &#61; 512,    .nr&#95;banks &#61; 2, },
{ .hw&#95;ep&#95;num &#61; 5, .fifo&#95;size &#61; 512,    .nr&#95;banks &#61; 2, },
{ .hw&#95;ep&#95;num &#61; 6, .fifo&#95;size &#61; 512,    .nr&#95;banks &#61; 2, },
};</pre>
<p />
All fifo_mode configurations are declared in atmel_usba_udc.c file. The version used on 4.9 kernel can be accessed at the following link:
<a href="https://github.com/linux4sam/linux-at91/blob/linux-4.9-at91/drivers/usb/gadget/udc/atmel_usba_udc.c#L348" target="_blank">https://github.com/linux4sam/linux-at91/blob/linux-4.9-at91/drivers/usb/gadget/udc/atmel_usba_udc.c#L348<img alt="" border="0" height="12" src="https://www.linux4sam.org/pub/TWiki/TWikiDocGraphics/external-link.gif" width="13" /></a>
<p />
Please refer to the SoC datasheet for more informations.
<p />
<h3><a name="How_to_configure_fifo_mode_param"></a> How to configure fifo_mode parameter </h3>
<p />
The <strong>default</strong> fifo_mode=0 should be fine for most configurations. If needed, the fifo_mode parameter can be changed by adding it to the kernel command line. For example if one wants to configure fifo_mode to 3 the following command must be appended to kernel command line.
<pre>
atmel&#95;usba&#95;udc.fifo&#95;mode&#61;3
</pre>
<p />
One way to accomplish this is by editing the bootargs environment variable from u-boot using editenv command.
<pre>
&#61;&#62; editenv bootargs
edit: console&#61;ttyS0,115200 root&#61;/dev/mmcblk1p1 rw rootfstype&#61;ext4 rootwait atmel&#95;usba&#95;udc.fifo&#95;mode&#61;3
</pre>
<p />
<h2><a name="2_USB_Gadget_precomposed_configu"></a> 2. USB Gadget precomposed configurations from within Linux kernel </h2>
This option configures the gadget directly from the kernel config using precomposed configuration. The are multiple options here from simple devices like CDC ACM, Mass storgae, RNDIS, etc. to composite devices like Ethernet + ACM.
In this section we will present how to configure a composite Ethernet + ACM device.
<p />
<h3><a name="Configurations_in_Kernel"></a> Configurations in Kernel </h3>
Atmel USBA hardware driver must be enabled in kernel configuration. Entering Linux source directory:
<pre>
make menuconfig

Device Drivers &#62; USB support &#62; USB Gadget Support &#62; USB Peripheral Controller
    --&#62;   Atmel USBA

Device Drivers &#62; USB support &#62; USB Gadget Support
     --&#62;    USB Gadget precomposed configurations (&#60;choice&#62; &#91;&#61;m])
</pre>
<p />
The following configs will be enabled in .config
<pre>
CONFIG&#95;USB&#95;GADGET&#61;y
CONFIG&#95;USB&#95;CDC&#95;COMPOSITE&#61;m

The following will be selected automatically:
CONFIG&#95;USB&#95;LIBCOMPSITE&#91;&#61;m], USB&#95;U&#95;SERIAL&#91;&#61;m], USB&#95;U&#95;ETHER&#91;&#61;m], USB&#95;F&#95;ACM&#91;&#61;m], USB&#95;F&#95;ECM&#91;&#61;m]
</pre>
<p />
<h2><a name="3_USB_Gadget_configured_through"></a> 3. USB Gadget configured through ConfigFS from user space at runtime </h2>
USB Gadget ConfigFS is an interface that allows definition of arbitrary functions and configurations to define an application specific USB composite device from userspace.
The problem with this approach is that the gadget 
<p />
<h3><a name="Configurations_in_Kernel_AN1"></a> Configurations in Kernel </h3>
Atmel USBA hardware driver must be enabled in kernel configuration. Entering Linux source directory:
<pre>
make menuconfig

Device Drivers &#62; USB support &#62; USB Gadget Support &#62; USB Peripheral Controller
    --&#62;   Atmel USBA

Device Drivers &#62; USB support &#62; USB Gadget Support
     --&#62;   USB Gadget Drivers
          --&#62;     USB functions configurable through configfs
</pre>
<p />
The following configs will be enabled in .config
<pre>
CONFIG&#95;USB&#95;GADGET&#61;y
CONFIG&#95;USB&#95;CONFIGFS&#61;m
CONFIG&#95;USB&#95;CONFIGFS&#95;...&#61;y for various function drivers like:
CONFIG&#95;USB&#95;CONFIGFS&#95;ACM, CONFIG&#95;USB&#95;CONFIGFS&#95;RNDIS, CONFIG&#95;USB&#95;CONFIGFS&#95;MASS&#95;STORAGE, CONFIG&#95;USB&#95;CONFIGFS&#95;F&#95;HID 

</pre>
Building CONFIG_USB_CONFIGFS as a module will need to load it at run time:
<pre>
modprobe libcomposite
</pre>
<p />
<h2><a name="Applications"></a> Applications </h2>
<h3><a name="Simple_USB_Gadget_script"></a> Simple USB Gadget script </h3>
The following script can be used to initialize a simple USB Gadget composite device (CDC ACM+RNDIS) from user space:
<pre>
#! /bin/sh
  modprobe libcomposite
  mount -t configfs none /sys/kernel/config
  cd /sys/kernel/config/
  cd usb&#95;gadget
  mkdir g1
  cd g1
  echo &#34;0x04D8&#34; &#62; idVendor
  echo &#34;0x1234&#34; &#62; idProduct
  mkdir strings/0x409
  echo &#34;0123456789&#34; &#62; strings/0x409/serialnumber
  echo &#34;Microchip Technology, Inc.&#34; &#62; strings/0x409/manufacturer
  echo &#34;Linux USB Gadget&#34; &#62; strings/0x409/product
  mkdir functions/rndis.usb0
  mkdir functions/acm.usb0
  mkdir configs/c.1
  mkdir configs/c.1/strings/0x409
  echo &#34;CDC ACM+RNDIS&#34; &#62; configs/c.1/strings/0x409/configuration
  ln -s functions/rndis.usb0 configs/c.1
  ln -s functions/acm.usb0 configs/c.1
  echo &#34;300000.gadget&#34; &#62; UDC
</pre>
<p />
The string that needs to be written in the UDC is dependent on the address at which the usb device is mapped . Different SoC have different addresses. The address is described in the device tree of the SoC / Board or in the datasheet.
<p />
<table border="1" cellpadding="0" cellspacing="0" class="twikiTable" id="table1" rules="all">
<tr class="twikiTableOdd twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
<th bgcolor="#687684" class="twikiTableCol0 twikiFirstCol" valign="top" width="40%"> <font color="#ffffff">SoC</font> </th>
<th bgcolor="#687684" class="twikiTableCol1 twikiLastCol" valign="top" width="40%"> <font color="#ffffff">UDC</font> </th>
</tr>
<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
<td bgcolor="#ffffff" class="twikiTableCol0 twikiFirstCol" valign="top" width="40%"> at91sam9x5 </td>
<td bgcolor="#ffffff" class="twikiTableCol1 twikiLastCol" valign="top" width="40%"> 500000.gadget </td>
</tr>
<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
<td bgcolor="#edf4f9" class="twikiTableCol0 twikiFirstCol" valign="top" width="40%"> sam9x60 </td>
<td bgcolor="#edf4f9" class="twikiTableCol1 twikiLastCol" valign="top" width="40%"> 500000.gadget </td>
</tr>
<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
<td bgcolor="#ffffff" class="twikiTableCol0 twikiFirstCol" valign="top" width="40%"> sama5d3 </td>
<td bgcolor="#ffffff" class="twikiTableCol1 twikiLastCol" valign="top" width="40%"> 500000.gadget </td>
</tr>
<tr class="twikiTableOdd twikiTableRowdataBgSorted1 twikiTableRowdataBg1">
<td bgcolor="#edf4f9" class="twikiTableCol0 twikiFirstCol" valign="top" width="40%"> sama5d4 </td>
<td bgcolor="#edf4f9" class="twikiTableCol1 twikiLastCol" valign="top" width="40%"> 400000.gadget </td>
</tr>
<tr class="twikiTableEven twikiTableRowdataBgSorted0 twikiTableRowdataBg0">
<td bgcolor="#ffffff" class="twikiTableCol0 twikiFirstCol twikiLast" valign="top" width="40%"> sama5d2 </td>
<td bgcolor="#ffffff" class="twikiTableCol1 twikiLastCol twikiLast" valign="top" width="40%"> 300000.gadget </td>
</tr></table> </div><!-- /patternTopic-->
<div class="twikiContentFooter"></div><div class="twikiForm">
<table class='twikiFormTable' border='1'><tr><th class='twikiFormTableHRow twikiFirstCol' colspan='2'>
<a class="twikiLink" href="WebFaqBaseForm.html">WebFaqBaseForm</a>
</th></tr><tr valign='top'><td class='twikiFormTableRow twikiFirstCol' align='right'> Boards </td><td>
<a class="twikiLink" href="Sama5d2IcpMainPage.html">Sama5d2-icp</a>, <a class="twikiLink" href="Sam9x60EKMainPage.html">Sam9x60EK</a>, <a class="twikiLink" href="Sama5d27WLSom1EKMainPage.html">Sama5d27WLSom1EK</a>, <a class="twikiLink" href="Sama5d27Som1EKMainPage.html">Sama5d27Som1EK</a>, <a class="twikiLink" href="Sama5d2PtcEKMainPage.html">Sama5d2PtcEK</a>, <a class="twikiLink" href="Sama5d2XplainedMainPage.html">Sama5d2Xplained</a>, <a class="twikiLink" href="Sama5d4XplainedMainPage.html">Sama5d4Xplained</a>, <a class="twikiLink" href="Sama5d4ekMainPage.html">Sama5d4ek</a>, <a class="twikiLink" href="Sama5d3XplainedMainPage.html">Sama5d3Xplained</a>, <a class="twikiLink" href="Sama5d3xekMainPage.html">Sama5d3xek</a>, <a class="twikiLink" href="AT91sam9x5ekMainPage.html">AT91sam9x5-ek</a>, <a class="twikiLink" href="GettingStarted.html">other AT91SAM9 boards</a>
</td></tr><tr valign='top'><td class='twikiFormTableRow twikiFirstCol' align='right'> Components </td><td>
<a class="twikiLink" href="LinuxKernel.html">Kernel</a>, <a class="twikiLink" href="LinuxKernel_4_4.html">linux-4.4-at91</a>, <a class="twikiLink" href="LinuxKernel_4_9.html">linux-4.9-at91</a>, <a class="twikiLink" href="LinuxKernel_4_14.html">linux-4.14-at91</a>, <a class="twikiLink" href="LinuxKernel_4_19.html">linux-4.19-at91</a>, <a class="twikiLink" href="LinuxKernel_5_4.html">linux-5.4-at91</a>
</td></tr><tr valign='top'><td class='twikiFormTableRow twikiFirstCol' align='right'> Summary </td><td>
Configure AT91 USB Gadget on Linux and Endpoint order management (composite USB)
</td></tr></table>
</div><!-- /twikiForm --></div><!-- /patternContent-->
<div class="patternInfo twikiGrayText"><div class="patternRevInfo">r23 - 02 Jun 2020 - 06:37:44 - <a class="twikiLink" href="https://www.linux4sam.org/bin/login/Main/EugenHristev?origurl=/bin/view/Main/EugenHristev">EugenHristev</a></div><!-- /patternRevInfo--></div><!-- /patternInfo-->
</div><!-- /patternMainContents-->
</div><!-- /patternMain-->
<div id="patternLeftBar">
<div id="patternClearHeaderLeft"></div>
<div id="patternLeftBarContents">
<div class="patternWebIndicator"> <ul>
<li> <a class="twikiCurrentWebHomeLink twikiLink" href="WebHome.html"><img src="https://www.linux4sam.org/pub/TWiki/TWikiDocGraphics/web-bg-small.gif" width="13" height="13" alt="Web background" title="Web background" border="0" /> Linux4SAM</a>
</li></ul> 
</div>
<br>
<h2><a name="Linux4SAM"></a> <a class="twikiCurrentWebHomeLink twikiLink" href="WebHome.html"> Linux4SAM</a> </h2>
<ul>
  <li><a class="twikiLink" href="SoftwareTools.html">Software tools</a></li>
  <li><a class="twikiLink" href="AT91Bootstrap.html">AT91Bootstrap</a></li>
  <li><a class="twikiLink" href="U-Boot.html">U-Boot</a>
  <li><a class="twikiLink" href="LinuxKernel.html">Linux Kernel</a></li>
  <li><a class="twikiLink" href="DT-Overlay.html">DT-Overlay</a></li>
</ul>
<p />
<u><a class="twikiCurrentWebHomeLink twikiAnchorLink" href="WebHome.html#Open_source_embedded_distributio">Open source solutions</a></u>
<ul>
    <li><a class="twikiLink" href="YoctoProject.html">Yocto Project</a></li>
    <!--<li><a class="twikiLink" href="/bin/view/Linux4SAM/OpenEmbeddedAngstrom">OpenEmbedded / Angstrom</a></li>-->
    <li><a class="twikiLink" href="BuildRoot.html">Buildroot</a></li>
    <li><a class="twikiLink" href="OpenWrt.html">OpenWrt</a></li>
</ul>
<p />
<u><a class="twikiCurrentWebHomeLink twikiAnchorLink" href="WebHome.html#Applications">Applications</a></u>
<ul>
    <li><a class="twikiAnchorLink" href="Applications.html#Graphics_Toolkit">Graphics Toolkit</a></li>
    <li><a class="twikiAnchorLink" href="Applications.html#WiFi_and_Bluetooth">WiFi and Bluetooth</a></li>
</ul>
<p />
<h2><a name="Boards"></a> Boards </h2>
<ul>
    <li><a class="twikiLink" href="Sama5d2IcpMainPage.html">SAMA5D2-ICP</a></li>
    <li><a class="twikiLink" href="Sama5d27WLSom1EKMainPage.html">SAMA5D27 WLSOM1 EK</a></li>
    <li><a class="twikiLink" href="Sam9x60EKMainPage.html">SAM9X60-EK</a></li>
    <li><a class="twikiLink" href="Sama5d27Som1EKMainPage.html">SAMA5D27 SOM1 EK</a></li>
    <li><a class="twikiLink" href="Sama5d2PtcEKMainPage.html">SAMA5D2 PTC EK</a></li>
    <li><a class="twikiLink" href="Sama5d2XplainedMainPage.html">SAMA5D2 Xplained</a></li>
    <li><a class="twikiLink" href="Sama5d3XplainedMainPage.html">SAMA5D3 Xplained</a></li>
    <li><a class="twikiLink" href="Sama5d4XplainedMainPage.html">SAMA5D4 Xplained</a></li>
    <li><a class="twikiLink" href="GettingStarted.html">Older boards</a></li>
</ul>
<p />
<p />
<h2><a name="FAQ"></a> <a class="twikiLink" href="WebFaq.html">FAQ</a> </h2>
<div class="twikiToc"> <ul>
<li> <a href="WebFaq.html#FAQ_updates_by_Boards"> FAQ updates by Boards</a>
</li> <li> <a href="WebFaq.html#FAQ_updates_by_Components"> FAQ updates by Components</a>
</li></ul> 
</div>
<p />
<!--
<u>FAQ</u>
<ul>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/U-BootFAQ">U-Boot FAQ</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/BuildRootFAQ">BuildRoot FAQ</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/AudioFAQ">Audio FAQ</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/FAQ_9x5">AT91SAM9x5 FAQ</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/FAQ_9n12">AT91SAM9N12 FAQ</a></li>
</ul>
<p />
<u><a class="twikiLink" href="/bin/view/Linux4SAM/TipsNTricks">Tips &amp; Tricks</a></u>
<ul>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/AudioRecordOnAt91sam9g20ek">9G20EK Audio Recording</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/SAM9M10Gstreamer">9M10 vdec with Gstreamer</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/IioAdcDriver">IIO ADC driver</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/RealTime">Real Time on A91SAM SoC</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/SDCardBootNotice">SD card boot for AT91SAM SoC</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/PmeccConfigure">NAND ECC configuration (PMECC)</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/AT91BootstrapDebugEclipse">AT91Bootstrap Debugging with Eclipse for Linux</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/UsingIsi">Using ISI (Image Sensor Interface)</a></li>
    <li><a class="twikiLink" href="/bin/view/Linux4SAM/UsingMaxTouch">Using maXTouch (capacitive touchscreen)</a></li>
</ul>
<p />
<br><br>
<h2><a name="Demos"></a> <a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted#Demo_archives">Demos</a> </h2>
<p />
<u>For following products:</u>
<br><br>
<ul>
  <li><a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted#Demoa5d4xplained">SAMA5D4 Xplained</a></li>
  <li><a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted#Demoa5d4ek">SAMA5D4-EK</a> <br />  &nbsp;</li>
  <li><a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted#Demoa5d3x">SAMA5D3x-EK</a></li>
  <li><a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted#Demoa5d3x_yocto">SAMA5D3x-EK <br /> Home Automation Demo <br />  with Yocto</a></li>
  <li><a href="http://www.timesys.com/embedded-linux/resources/dev-center/sama5d3" target="_blank">SAMA5D3x-EK <br /> Home Automation Demo <br />  with LinuxLink<img alt="" border="0" height="12" src="/pub/TWiki/TWikiDocGraphics/external-link.gif" width="13" /></a> <br />  &nbsp;</li>
  <li><a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted_9n12#Demo_archives">AT91SAM9N12-EK</a></li>
  <li><a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted_9x5#Demo_archives">AT91SAM9x5-EK</a></li>
  <li><a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted#Demo9m10g45ek">AT91SAM9M10G45-EK</a></li>
  <li><a class="twikiAnchorLink" href="/bin/view/Linux4SAM/GettingStarted#Demo9g20">AT91SAM9G20-EK</a></li>
</ul>
-->
<p />
<p />
<h2><a name="Useful_links"></a> <a class="twikiLink" href="LinksToCommunities.html">Useful links</a> </h2>
<ul>
  <li><a href="https://www.microchip.com/forums/f540.aspx" target="_blank">Microchip Microprocessors forums</a></li>
  <li><a href="http://www.at91.com/" target="_blank">AT91 Community (archive)</a></li>
  <li><a href="http://www.microchip.com/" target="_blank">Microchip</a></li>
  <li><a href="https://github.com/linux4sam" target="_blank">Linux4SAM on GitHub</a></li>
  <!--<li><a class="twikiLink" href="/bin/view/Linux4SAM/LinuxNewsletter">Atmel | Linux newsletter</a></li>-->
</ul>
<br><br>
<h2><a name="NAVIGATION"></a> NAVIGATION </h2>
<p />
<div id="navButtonl">
<a class="twikiCurrentWebHomeLink twikiLink" href="WebHome.html"> Linux4SAM</a>
</div> <ul>
<li> <a class="twikiLink" href="WebTopicList.html"> Index</a>
</li> <li> <a class="twikiLink" href="WebChanges.html"> Changes</a>
</li> <li> <a class="twikiLink" href="WebNotify.html"> Notifications</a>
</li> <li> <a class="twikiLink" href="WebStatistics.html"> Statistics</a>
</li></ul> 
<p />
</div>
<!-- /patternLeftBarContents--></div>
<!-- /patternLeftBar-->
</div><!-- /patternFloatWrap-->
<div class="clear">&nbsp;</div>
</div><!-- /patternOuter--></div><!-- /patternWrapper-->
<div id="patternTopBar">
<div id="patternTopBarContents">
<table border="0" cellpadding="0" cellspacing="0" style="width:100%; margin-top:12px;">
<tr><td valign="middle"><span id="twikiLogo" class="twikiImage"><a href="../Linux4SAM.html"><img src="../../../pub/Main/TWikiPreferences/tux2_atmel_header.png" border="0" alt="Linux4SAM" style="border:none;" /></a></span></td>
<td align="right" valign="top" class="patternMetaMenu">
 <ul>
<li> <form name="jumpForm" action="https://www.linux4sam.org/bin/view/Linux4SAM/USBGadgetConfig"><input id="jumpFormField" type="text" class="twikiInputField" name="topic" value="" size="18" /><noscript>&nbsp;<input type="submit" class="twikiButton" size="5" name="submit" value="Jump" />&nbsp;</noscript>   </form>
</li> <li> <form name="quickSearchForm" action="https://www.linux4sam.org/bin/view/Linux4SAM/WebSearch"><input type="text" class="twikiInputField" id="quickSearchBox" name="search" value="" size="18" /><input type="hidden" name="scope" value="all" /><input type="hidden" name="web" value="Linux4SAM" /><noscript>&nbsp;<input type="submit" size="5" class="twikiButton" name="submit" value="Search" />&nbsp;</noscript>   </form>
</li> <li> 
</li></ul> 
</td></tr></table>
<div class="page-title"> Linux &amp; Open Source for AT91 Microchip Microprocessors</div>
<div class="page-print">
<p>
<p />
<a href="USBGadgetConfig3fe3.html?skin=print.myskin">Print</a></p>
<p />
</div>
</div></div>
<!-- /patternTopBar-->
<div id="patternBottomBar">
<div id="patternBottomBarContents">
<div id="patternWebBottomBar">
<p>Copyright &copy; by the contributing authors. All material on this collaboration platform is the property of the contributing authors. </p>
<p>Linux&reg; is the registered trademark of Linus Torvalds in the U.S. and other countries. </p>
<p>Microchip&reg; and others, are registered trademarks or trademarks of Microchip Technology Inc. and its subsidiaries. <a href="http://twiki.org/" target="_blank" class="natExternalLink"><img width="80" height="15" border="0" title="This site is powered by the TWiki collaboration platform" alt="This site is powered by the TWiki collaboration platform" src="https://www.linux4sam.org/linux4sam/T-logo-80x15.gif" class="img-twiki"></a></p>
<p>Arm&reg; and others are registered trademarks or trademarks of Arm Limited (or its affiliates).  Other terms and product names may be trademarks of others.</p>
<p>Ideas, requests, contributions ? Connect to <a href="LinksToCommunities.html" class="twikiLink">LinksToCommunities</a> page.</p>
<p>Syndicate this site<a href="WebRss" class="linux4sam-rss">RSS</a>
<a href="WebAtom" class="linux4sam-rss">ATOM</a></p>
</div>
<!--/patternWebBottomBar--></div>
<!-- /patternBottomBarContents--></div>
<!-- /patternBottomBar-->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10893750-1");
pageTracker._initData();
pageTracker._trackPageview();
} catch(err) {}
</script>
<script type="text/javascript">
  _bizo_data_partner_id = "8288";
</script>
<script type="text/javascript">
	(function() {
		  var s = document.getElementsByTagName("script")[0];
		  var b = document.createElement("script");
		  b.type = "text/javascript";
		  b.async = true;
		  b.src = (window.location.protocol === "https:" ? "https://sjs" : "http://js") + ".bizographics.com/insight.min.js";
		  s.parentNode.insertBefore(b, s);
	 })();
</script>
<noscript>
  <img height="1" width="1" alt="" style="display:none;" src="http://www.bizographics.com/collect/?pid=8288&amp;fmt=gif" />
</noscript>
</div><!-- /patternPage-->
</div><!-- /patternPageShadow-->
</div><!-- /patternScreen-->
</body>
<!-- Mirrored from www.linux4sam.org/bin/view/Linux4SAM/USBGadgetConfig by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Jul 2021 19:07:40 GMT -->
</html>